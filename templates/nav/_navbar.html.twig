<nav class="{{ app.user ? 'fixed top-0 left-0 right-0 border-b bg-white' : ' bg-gradient-to-r from-yellow-400 to-purple-400 lg:py-4' }} z-50 px-4 lg:px-2 py-2 dark:bg-gray-800">
  <div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl">
    <div class="flex item-center">
      {% if (app.user != null and app.user.job != null and app.user.job.revokedAt == null) or (app.user and app.user.shop != null) %}
        <!-- drawer init and show -->
        <div class="flex justify-center w-9">
          <button data-drawer-target="sidebar-multi-level-sidebar" data-drawer-toggle="sidebar-multi-level-sidebar" aria-controls="sidebar-multi-level-sidebar" type="button" class="inline-flex items-center p-0 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:border focus:border-gray-50 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-none">
            <span class="sr-only">Open sidebar</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 sm:h-9 font-semibold text-gray-500 hover:text-gray-800" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5" />
            </svg>
          </button>
        </div>
      {% endif %}
      <a href="{{ path('home') }}" class="flex items-center ml-2"><img src="{{ asset('/images/icons/setsetalLogo4.png') }}" class="w-36 hidden md:flex" alt="Logo" /></a>
      <a href="{{ path('home') }}" class="flex items-center ml-2"><img src="{{ asset('/images/icons/LogoRound192x192.png') }}" class="w-16 md:hidden" alt="Logo" /></a>
    </div>
    {% if app.user %}
      <div class="flex sm:text-auto text-right sm:self-auto items-center lg:order-2">
        <button type="button" class="flex mx-2 text-4xl bg-gray-50 rounded-full md:mr-0 text-gray-500" id="user-menu-button" aria-expanded="false" data-dropdown-toggle="dropdown">
          <span class="sr-only">Open user menu</span>
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-person-circle h-8" viewBox="0 0 16 16">
            <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0" />
            <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1" />
          </svg>
        </button>
      </div>
      <!-- Dropdown menu -->
      <div class="hidden z-50 my-4 w-56 text-base list-none bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700 dark:divide-gray-600" id="dropdown">
        <div class="py-3 px-4">
          <span class="block text-sm font-semibold text-gray-900 dark:text-white">{{ app.user.fullName }}</span>
          <span class="block text-sm text-gray-500 truncate dark:text-gray-400"><span class="font-normal text-gray-400">Tél :</span>{{ app.user.telefone }}</span>
          {% if app.user.job != null %}
            <span class="block text-sm text-gray-500 truncate dark:text-gray-400"><span class="font-normal text-gray-400">Employeur :</span>{{ app.user.job.shop.comName }}</span>
            <span class="block text-sm text-gray-500 truncate dark:text-gray-400 capitalize"><span class="font-normal text-gray-400">Poste :</span>{{ app.user.job.poste }}</span>
          {% endif %}
          {% if app.user.shop != null %}
            <span class="block text-sm text-gray-500 truncate dark:text-gray-400"><span class="font-normal text-gray-400"></span>{{ app.user.shop.comName }}</span>
          {% endif %}
        </div>
        <ul class="py-1 text-gray-500 dark:text-gray-400" aria-labelledby="dropdown">
          <li>
            <a href="#" class="block py-2 px-4 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-400 dark:hover:text-white">Mon profile</a>
          </li>
        </ul>
        <ul class="py-1 text-gray-500 dark:text-gray-400" aria-labelledby="dropdown">
          <li>
            <a href="#" class="flex justify-between items-center py-2 px-4 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">
              <span class="flex items-center">
                <svg class="mr-2 w-4 h-4 text-purple-600 dark:text-purple-600" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                  <path d="m7.164 3.805-4.475.38L.327 6.546a1.114 1.114 0 0 0 .63 1.89l3.2.375 3.007-5.006ZM11.092 15.9l.472 3.14a1.114 1.114 0 0 0 1.89.63l2.36-2.362.38-4.475-5.102 3.067Zm8.617-14.283A1.613 1.613 0 0 0 18.383.291c-1.913-.33-5.811-.736-7.556 1.01-1.98 1.98-6.172 9.491-7.477 11.869a1.1 1.1 0 0 0 .193 1.316l.986.985.985.986a1.1 1.1 0 0 0 1.316.193c2.378-1.3 9.889-5.5 11.869-7.477 1.746-1.745 1.34-5.643 1.01-7.556Zm-3.873 6.268a2.63 2.63 0 1 1-3.72-3.72 2.63 2.63 0 0 1 3.72 3.72Z" />
                </svg>Mettre à nivau
              </span>
              <svg class="w-2.5 h-2.5 text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4" />
              </svg>
            </a>
          </li>
        </ul>
        <ul class="py-1 text-gray-500 dark:text-gray-400" aria-labelledby="dropdown">
          <li>
            <a href="{{ path('app_logout') }}" class="flex justify-between items-center py-2 px-4 text-semibold hover:bg-gray-200 dark:hover:bg-gray-600 dark:hover:text-white">
              Déconnection<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-box-arrow-right h-5 text-gray-500" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z" />
                <path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z" />
              </svg>
            </a>
          </li>
        </ul>
      </div>
    {% else %}
      <div id="cart" class="divide-x lg:order-2">
        <a href="{{ path('cart.index') }}" class="text-skyblue-500 hover:text-skyblue-600">
          <div class="relative">
            <span id="cart-count" class="absolute {{ (app.session.get('cart')|length) > 0 ? '' : 'hidden' }} inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-red-500 border-2 border-purple-600 rounded-full -top-2 -end-2 dark:border-gray-900">{{ app.session.get('cart')|length }}</span>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-9 h-9 text-2xl">
              <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z" />
            </svg>
          </div>
        </a>
      </div>
      <div class="flex items-center order-2 lg:order-3">
        <a href="{{ path('app_register') }}" title="S'incrire" class="text-white border border-white bg-skyblue-600 hover:bg-skyblue-700 focus:ring-4 focus:ring-skyblue-300 font-medium rounded-lg text-sm px-4 lg:px-5 py-2 lg:py-2.5 mr-2 focus:outline-none dark:focus:ring-skyblue-800">S'inscrire</a>
        <a href="{{ path('app_login') }}" title="S'identifier" class="text-white border border-skyblue-600 dark:text-white hover:text-skyblue-500 hover:border-white focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-4 lg:px-5 py-2 lg:py-2.5 mr-1 dark:hover:bg-gray-700 focus:outline-none dark:focus:ring-gray-800">
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-6 h-6" viewBox="0 0 512 512">
            <!-- !Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc. -->
            <path d="M352 96l64 0c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c53 0 96-43 96-96l0-256c0-53-43-96-96-96l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32zm-9.4 182.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L242.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z" />
          </svg>
        </a>
        <button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false">
          <span class="sr-only">Open main menu</span>
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path>
          </svg>
          <svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
          </svg>
        </button>
      </div>
    {% endif %}
    {% if app.user == null or (app.user.job != null and app.user.job.revokedAt != null) or (app.user.job == null and app.user.shop == null) %}
      {% if (app.user and app.user.job == null and app.user.shop == null) or (app.user and app.user.job != null and app.user.job.revokedAt != null) %}
        <button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false">
          <span class="sr-only">Open main menu</span>
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path>
          </svg>
          <svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
          </svg>
        </button>
      {% endif %}
      <div class="hidden justify-between items-center w-full lg:flex lg:w-auto order-2 lg:order-1" id="mobile-menu-2">
        <ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-4 lg:mt-0">
          <li>
            <a href="{{ path('home') }}" class="block py-1 {{ app.current_route == 'home' ? 'text-purple-700' : 'text-white' }} hover:text-purple-500 border-b border-0 border-white lg:rounded-full pr-4 pl-3 hover:bg-gray-50 lg:hover:bg-transparent lg:border-2 lg:hover:text-gray-100 p-0 lg:px-2 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700">Accueil</a>
          </li>
          <li>
            <a href="{{ path('boutique') }}" class="block py-1 {{ app.current_route starts with 'boutique' ? 'text-purple-700' : 'text-white' }} hover:text-purple-500 border-b border-0 border-white lg:rounded-full pr-4 pl-3 hover:bg-gray-50 lg:hover:bg-transparent lg:border-2 lg:hover:text-gray-100 p-0 lg:px-2 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700">Boutique</a>
          </li>
          <li>
            <a href="{{ path('pricing') }}" class="block py-1 {{ app.current_route == 'pricing' ? 'text-purple-700' : 'text-white' }} hover:text-purple-500 border-b border-0 border-white lg:rounded-full pr-4 pl-3 hover:bg-gray-50 lg:hover:bg-transparent lg:border-2 lg:hover:text-gray-100 p-0 lg:px-2 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700">Nos tarifs</a>
          </li>
          <li>
            <a href="{{ path('service') }}" class="block py-1 {{ app.current_route == 'service' ? 'text-purple-700' : 'text-white' }} hover:text-purple-500 border-b border-0 border-white lg:rounded-full pr-4 pl-3 hover:bg-gray-50 lg:hover:bg-transparent lg:border-2 lg:hover:text-gray-100 p-0 lg:px-2 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700">Services</a>
          </li>
          <li>
            <a href="{{ path('contact') }}" class="block py-1 {{ app.current_route starts with 'contact' ? 'text-purple-700' : 'text-white' }} hover:text-purple-500 border-b border-0 border-white lg:rounded-full pr-4 pl-3 hover:bg-gray-50 lg:hover:bg-transparent lg:border-2 lg:hover:text-gray-100 p-0 lg:px-2 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700">Contact</a>
          </li>
          <li>
            <a href="{{ path('propos') }}" class="block py-1 {{ app.current_route == 'propos' ? 'text-purple-700' : 'text-white' }} hover:text-purple-500 border-b border-0 border-white lg:rounded-full pr-4 pl-3 hover:bg-gray-50 lg:hover:bg-transparent lg:border-2 lg:hover:text-gray-100 p-0 lg:px-2 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700">A propos</a>
          </li>
        </ul>
      </div>
    {% endif %}
  </div>
</nav>
<!-- Sidnav contents uniquement si l'utilisateur est authentifié -->
{% if (app.user and app.user.shop != null) or (app.user and app.user.job != null and app.user.job.active == true) %}
  {{ include('nav/_sidenav.html.twig') }}
{% endif %}
